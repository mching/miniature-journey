---
title: Hawaii Coronavirus Update 2020-04-13
author: ~
date: '2020-04-13'
slug: hawaii-coronavirus-update-2020-04-13
categories: []
tags: []
type: ''
subtitle: ''
image: ''
---



<p>In my last post I used data from the <a href="https://github.com/nytimes/covid-19-data">New York Times Github repository</a>. The authors update it within a day or two but I found a new crowdsourced data source from local tech community that is typically updated within minutes.</p>
<pre class="r"><code>library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>library(ggplot2)
library(lubridate)</code></pre>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     date</code></pre>
<pre class="r"><code>library(scales)
library(tidyr)
library(zoo)</code></pre>
<pre><code>## 
## Attaching package: &#39;zoo&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     as.Date, as.Date.numeric</code></pre>
<pre class="r"><code>covid &lt;- readr::read_csv(&#39;https://covid19-hawaii.herokuapp.com/hawaii_daily.sqlite/hawaii_daily?_format=csv&amp;_size=max&#39;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_double(),
##   Date = col_character(),
##   `Total Tests` = col_number(),
##   `Daily Tests` = col_number(),
##   `Total Private Tests` = col_number(),
##   `Negative Tests` = col_number(),
##   `OHCA Licensed Beds` = col_number(),
##   `Non-ICU Beds` = col_number(),
##   Source = col_character(),
##   `Unnamed: 40` = col_character()
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<p>Data pull time</p>
<pre class="r"><code>timestamp()</code></pre>
<pre><code>## ##------ Mon Apr 13 21:37:24 2020 ------##</code></pre>
<p>Here’s what the data look like.</p>
<pre class="r"><code>glimpse(covid)</code></pre>
<pre><code>## Observations: 44
## Variables: 42
## $ rowid                 &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, …
## $ Date                  &lt;chr&gt; &quot;3/1/20&quot;, &quot;3/2/20&quot;, &quot;3/3/20&quot;, &quot;3/4/20&quot;, &quot;3/5/20…
## $ `Total Cases`         &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 2, 2, 4, 7, 10…
## $ `New Cases`           &lt;dbl&gt; NA, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 2, 3, 3…
## $ `Total State Res`     &lt;dbl&gt; NA, NA, NA, NA, NA, 1, 1, 1, 1, 1, 1, 2, 2, 4, …
## $ `New State Res`       &lt;dbl&gt; NA, NA, NA, NA, NA, 1, 0, 0, 0, 0, 0, 1, 0, 0, …
## $ `Total Oahu Res`      &lt;dbl&gt; NA, NA, NA, NA, NA, 1, 1, 1, 1, 1, 1, 2, NA, NA…
## $ `New Oahu Res`        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Total Maui Res`      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `New Maui Res`        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Total HIsland Res`   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `New HIsland Res`     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Total Kauai Res`     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `New Kauai Res`       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Total Non Res`       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `New Non Res`         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ Unclassified          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Total Hosp`          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `New Hosp`            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Total Deaths`        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Total Released`      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Daily Released`      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Total Tests`         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Daily Tests`         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Total Private Tests` &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Daily Private Tests` &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Total State Tests`   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Daily State Tests`   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Negative Tests`      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Positive Tests`      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Inconcl Tests`       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `OHCA Licensed Beds`  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `ICU Beds`            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Non-ICU Beds`        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Occupied ICU Beds`   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Occupied Beds`       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `% Beds Occupied`     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ Ventilators           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Ventilators Used`    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `% Ventilators Used`  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ Source                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;ht…
## $ `Unnamed: 40`         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</code></pre>
<p>Data processing steps.</p>
<pre class="r"><code>covid$Date &lt;- mdy(covid$Date)</code></pre>
<p>The data has the last date as 4/15/2020 for some reason, so I went in and fixed it manually.</p>
<pre class="r"><code># This step will need to be deleted once the source data is corrected
date415 &lt;- which(covid$Date == &quot;2020-04-15&quot;)
covid$Date[date415] &lt;- as.Date(&quot;2020-04-13&quot;)</code></pre>
<div id="change-per-day" class="section level1">
<h1>Change per Day</h1>
<p>Here’s the change in our state per day, smoothed with the loess method (regression line fitting).</p>
<pre class="r"><code>covid %&gt;% filter(!is.na(`New Cases`)) %&gt;%
  ggplot(aes(x = Date, y = `New Cases`)) + 
  geom_point() +
  geom_line() + 
  geom_smooth() +
  labs(title =&quot;New Coronavirus Positive Tests, Hawaii&quot;,
       subtitle = &quot;With loess smoothing line&quot;) +
  ylab(&quot;Positive Tests&quot;)</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="/post/2020-04-13-hawaii-coronavirus-update-2020-04-13_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>I also tried last 7 smoothing.</p>
<pre class="r"><code>covid %&gt;% select(Date, `New Cases`) %&gt;%
  mutate(rolling_mean_7d = rollmean(`New Cases`, 7, align = &#39;right&#39;, fill = NA)) %&gt;% 
  mutate(newcases = `New Cases`) %&gt;%
  select(Date, newcases, rolling_mean_7d) %&gt;%
  gather(`rolling_mean_7d`, `newcases`, key = seriesname, value = cases) %&gt;%
  ggplot(aes(x = Date, y = cases, color = seriesname)) + 
  geom_point() +
  geom_line() +
  labs(title =&quot;New Coronavirus Positive Tests, Hawaii&quot;,
       subtitle = &quot;With 7 Day Rolling Mean&quot;) +
  ylab(&quot;Positive Tests&quot;)</code></pre>
<pre><code>## Warning: Removed 8 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning: Removed 8 row(s) containing missing values (geom_path).</code></pre>
<p><img src="/post/2020-04-13-hawaii-coronavirus-update-2020-04-13_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Both curves are pretty nice, showing a reduction in the new positive tests per day in the last week. I hope the trend continues!</p>
</div>
