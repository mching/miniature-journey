<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>King Tides Citizen Science Project  &middot; Dripping Data</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="GIS, ">


<meta property="og:title" content="King Tides Citizen Science Project  &middot; Dripping Data ">
<meta property="og:site_name" content="Dripping Data"/>
<meta property="og:url" content="/2017/05/26/king-tides-gis/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2017-05-26T00:00:00Z" />
<meta property="og:article:modified_time" content="2017-05-26T00:00:00Z" />

  
    
<meta property="og:article:tag" content="GIS">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@" />
<meta name="twitter:title" content="King Tides Citizen Science Project" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="/2017/05/26/king-tides-gis/" />
<meta name="twitter:domain" content="/">
  

  
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "King Tides Citizen Science Project",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2017-05-26",
    "description": "",
    "wordCount": 829
  }
</script>
  



<link rel="canonical" href="../../../../2017/05/26/king-tides-gis/" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../touch-icon-144-precomposed.png">
<link rel="icon" href="../../../../favicon.png">
<meta name="generator" content="Hugo 0.24.1" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->



    <link rel="stylesheet" href="../../../../css/bootswatch/default/bootstrap.min.css">


<link rel="stylesheet" href="../../../../css/font-awesome.min.css">
<link rel="stylesheet" href="../../../../css/style.css">




  <link rel="stylesheet" href="../../../../css/highlight/default.css">


</head>
<body data-ng-app="myapp" data-ng-controller="MyController" data-ng-mouseleave="MouseLeave($event)">
    <header id="main-header">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        
          
          <a class="navbar-brand-img" href="../../../../">
            <img alt="" src="">
            
          </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            
            
            <li class="">

              <a href="../../../../" >
                
                Blog
              </a>
            </li>
            
            <li class="">

              <a href="../../../../about/" >
                
                About
              </a>
            </li>
            
            <li class="">

              <a href="https://www.linkedin.com/in/michael-ching-033a5029" >
                
                LinkedIn
              </a>
            </li>
            
            <li class="">

              <a href="https://twitter.com/mikec2a" >
                
                Twitter
              </a>
            </li>
            
            
              
          </ul>
        </div>
        
      </div>
    </nav>
  </header>


<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  <div class="text-center">

    <h1>DRAFT :: King Tides Citizen Science Project
</h1>

    <div class="metas">
<small>
  <i class="fa fa-calendar"></i>
  <time datetime="2017-05-26">26 May, 2017</time>
</small>


  <small>
    &middot; by Mike Ching
  
  &middot; Read in about 4 min
  &middot; (829 words)
  &middot; 
<span class="share-box">Share this on:
    <a href="https://www.facebook.com/sharer/sharer.php?u=%2f2017%2f05%2f26%2fking-tides-gis%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-facebook-official "></i></a>

    <a href="https://twitter.com/intent/tweet?text=King%20Tides%20Citizen%20Science%20Project&amp;url=%2f2017%2f05%2f26%2fking-tides-gis%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-twitter"></i></a>

    <a href="https://plus.google.com/share?url=%2f2017%2f05%2f26%2fking-tides-gis%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-google-plus"></i></a>

    <a href="http://www.reddit.com/submit?url=%2f2017%2f05%2f26%2fking-tides-gis%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-reddit"></i></a>

    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2f2017%2f05%2f26%2fking-tides-gis%2f&amp;title=King%20Tides%20Citizen%20Science%20Project" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-linkedin"></i></a>

    <a href="mailto:?subject=King%20Tides%20Citizen%20Science%20Project&amp;body=Check out this site %2f2017%2f05%2f26%2fking-tides-gis%2f" data-proofer-ignore=""><i class="fa fa-envelope"></i></a>
  </span>

  </small>

<div class="margin-10">
  <i class="fa fa-tags"></i>
  
  <a href="../../../../tags/gis" class="label label-primary">GIS</a>
  


</div>

<br>
</div>

  </div>
</div>

      <div class="content">
  

<p>I read in the <a href="http://www.staradvertiser.com/2017/05/22/hawaii-news/king-tides-summer-swells-and-high-sea-levels-could-imperil-coastal-areas/">newspaper</a> that the <a href="http://ccsr.seagrant.soest.hawaii.edu/king-tides">University of Hawaii</a> was recruiting &ldquo;citizen scientists&rdquo; to help document the impact of this week&rsquo;s &ldquo;<a href="http://ccsr.seagrant.soest.hawaii.edu/Hawaii%20Sea%20Level">king tides</a>&rdquo; on our coastline. I uploaded some photos to <a href="https://getliquid.io">the website</a> but also found that we could download the dataset. I took this as an opportunity to learn something about geographic information systems (GIS) and R, and the end result was a pretty nice map of all the places that were photographed this week.</p>

<h2 id="gis-in-r">GIS in R</h2>

<p>I knew nothing about GIS before starting this but there were some excellent articles on the web about it. One tutorial used the <a href="https://journal.r-project.org/archive/2013-1/kahle-wickham.pdf"><code>ggmap</code></a> package. I just wanted to plot points on a map, and my prior experience with <code>ggplot2</code> and this <a href="https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/ggmap/ggmapCheatsheet.pdf">cheatsheet</a> made it pretty easy.</p>

<p>The hardest part was all the installation requirements, specifically GDAL. There&rsquo;s a lot of information on the web on how to install this, but it was a lot of googling that finally got it to work on Fedora. MacOS GDAL requires you to use packages available <a href="http://www.kyngchaos.com/software/frameworks">here</a>.</p>

<h2 id="making-a-map-of-oahu">Making a Map of Oahu</h2>

<p>First I wanted a map of Oahu. This couldn&rsquo;t be easier using <code>ggmap</code>. This produces a pretty watercolor looking map from <a href="https://stamen.com">Stamen.com</a>.</p>

<pre><code class="language-r">library(tidyverse)
library(ggmap)
myLocation &lt;- &quot;Oahu&quot;
myMap &lt;- get_map(location = myLocation,
                 source = &quot;stamen&quot;,
                 maptype = &quot;watercolor&quot;, 
                 crop = FALSE,
                 zoom = 10)

ggmap(myMap)
</code></pre>

<p>Then I wanted to put the points on the map. The dataset was in comma separated values format (albeit with this <code>latin1</code> file encoding when I did this post first in Fedora). It was easy to load the dataset.</p>

<pre><code class="language-r">dat &lt;- read.csv(&quot;../datasets/tides_20170526.csv&quot;, 
                # fileEncoding = &quot;latin1&quot;, 
                colClasses = &quot;character&quot;)
dat &lt;- tbl_df(dat)
</code></pre>

<p>The file needed some cleaning for convenient use in the <code>ggmap</code> package.</p>

<pre><code class="language-r">dat

# Rename latitute and longitude columns for more convenient reference
names(dat)[9] &lt;- &quot;latitude&quot;
names(dat)[10] &lt;- &quot;longitude&quot;

# Make latitude and longitude numeric
dat$latitude &lt;- as.numeric(dat$latitude)
dat$longitude &lt;- as.numeric(dat$longitude)

# Convert date and time columns into POSIX format
dat$date_time &lt;- paste(dat$Date, dat$Time)
dat$date_time &lt;- strptime(dat$date_time, &quot;%m/%d/%y %H:%M&quot;)
dat$date_time &lt;- as.POSIXct(dat$date_time)
dat$LatLong &lt;- paste0(dat$latitude, &quot;:&quot;, dat$longitude)
</code></pre>

<p>I just wanted to see where people had been active in the last two days so I filtered the dataset by date.</p>

<pre><code class="language-r">minidat &lt;- dat %&gt;% filter(date_time &gt; as.POSIXct(&quot;2017-05-25&quot;)) %&gt;% 
  select(latitude, longitude, date_time, LatLong)
</code></pre>

<p>The resulting map was pretty sweet.</p>

<pre><code class="language-r">ggmap(myMap) + geom_point(aes(x = longitude, y = latitude), data = minidat, color = &quot;black&quot;, alpha = 0.3)
</code></pre>

<p>I got virtually the same map using the <code>qmap</code> function. This function uses a Google Maps terrain map to create its base image.</p>

<pre><code class="language-r">qmap(&quot;Oahu&quot;) + geom_point(aes(x = longitude, y = latitude), data = minidat, color = &quot;red&quot;, alpha = 0.3)
</code></pre>

<p>The resulting images from <code>ggmap</code> were pretty nice but I wanted more. Nowadays it&rsquo;s customary to be able to pan and zoom like in Google Maps. The <code>ggmap</code> method produces a static map which is nice to look at, but it would be nice to see what points were taken on other islands. Or how about that blob of points on the south shore. Could we zoom in to see more readily where those points are?</p>

<h2 id="googlevis-version"><code>googleVis</code> version</h2>

<p>I did some more research and found the <code>gvisMap</code> function from the <code>googleVis</code> package could provide a solution to this problem. Inspiration for how to do this came from <a href="https://pakillo.github.io/R-GIS-tutorial/#googlevis">this tutorial</a>.</p>

<p>The special thing about <code>gvisMap</code> is that it requires you to feed it a variable containing latitude and longitude values in a specific latitude:longitude format. That&rsquo;s why I did this above in the data cleaning steps.</p>

<p>It also allows you to write a label for each point. I just used the date and time label but if I were to spend a little more time on this, it would be simple to write a label that gave the record number, the time, and some brief description.</p>

<pre><code class="language-r">library(googleVis)
M1 &lt;- gvisMap(minidat, &quot;LatLong&quot;, tipvar = &quot;date_time&quot;, 
              options=list(showTip=TRUE, showLine=F, enableScrollWheel=TRUE, 
                           mapType='satellite', useMapTypeControl=TRUE, width=800,height=800))

</code></pre>

<p>The next command should be <code>plot(M1)</code> but this launches a javascript based map running locally. I have to figure out how to integrate this into a Jekyll blog like this one, but for the time being, you can see the result <a href="https://www2.hawaii.edu/~mslching/map_20170526.html">here</a>. I copied the code from running <code>print(M1, 'chart')</code> onto an html page and voila, <a href="https://www2.hawaii.edu/~mslching/map_20170526.html">the map</a> works just like it should!</p>

<h2 id="discussion">Discussion</h2>

<p>It wasn&rsquo;t too hard to plot points on a map. If I&rsquo;m going to do more of this, I think the <code>googleVis</code> is probably better for dynamic presentation than <code>ggmap</code> but the <code>ggmap</code> might be nicer for static presentation.</p>

<p>Looking at the actual results, it comes as no surprise that urban Honolulu is well documented. There are lots of people living here and so Waikiki and Hawaii Kai were covered pretty well. Rural areas were much less well documented, so that&rsquo;s something for the project to work on!</p>

<h2 id="conclusions">Conclusions</h2>

<p>GIS in R is feasible for a relative newbie to GIS. Citizen scientists on the King Tides Project documented the urban Honolulu area better than rural areas.</p>

</div>


      <footer>
  
<span class="share-box">Share this on:
    <a href="https://www.facebook.com/sharer/sharer.php?u=%2f2017%2f05%2f26%2fking-tides-gis%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-facebook-official "></i></a>

    <a href="https://twitter.com/intent/tweet?text=King%20Tides%20Citizen%20Science%20Project&amp;url=%2f2017%2f05%2f26%2fking-tides-gis%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-twitter"></i></a>

    <a href="https://plus.google.com/share?url=%2f2017%2f05%2f26%2fking-tides-gis%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-google-plus"></i></a>

    <a href="http://www.reddit.com/submit?url=%2f2017%2f05%2f26%2fking-tides-gis%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-reddit"></i></a>

    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2f2017%2f05%2f26%2fking-tides-gis%2f&amp;title=King%20Tides%20Citizen%20Science%20Project" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-linkedin"></i></a>

    <a href="mailto:?subject=King%20Tides%20Citizen%20Science%20Project&amp;body=Check out this site %2f2017%2f05%2f26%2fking-tides-gis%2f" data-proofer-ignore=""><i class="fa fa-envelope"></i></a>
  </span>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="../../../../2017/05/21/saves-vs-strikeouts/" title="Pitchers with More Saves than Strikeouts">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
      <li class="next">
        <a href="../../../../2017/05/30/years-at-private-school-and-academic-achievement/" title="Association between Years at a Private School and Academic Achievement">
            Next <span aria-hidden="true">&rarr;</span>
        </a>
      </li>
    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  

</div>

</footer>

    </div>
    
  </div>
</div>
    
<footer class="footer hidden-print">
  <div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
           <div class="pull-left">
  <a class="toplink" href="javascript:" id="return-to-top">back to top</a>
</div>
<div class="pull-right">

</div>

        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
              
    
<div class="container footline">
    <small>
</small>
</div>


    


        </div>
    </div>
  </div>
</footer>

    

<script src="//s3.amazonaws.com/mailmunch/static/site.js" id="mailmunch-script" data-mailmunch-site-id="" async="async"></script>



<script src="//load.sumome.com/" data-sumo-site-id="" async="async"></script>

<script src="../../../../js/jquery.min.js"></script>
<script src="../../../../js/bootstrap.min.js"></script>

<script src="../../../../js/angular.min.js"></script>
<script src="../../../../js/popover/angular-storage.min.js"></script>
<script src="../../../../js/highlight.pack.js"></script>
<script src="../../../../js/site.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
var ENABLE_POPOVER = "", 
EXPIRE_COOKIE = "", 
SHOW_MODAL_TIMEOUT = "", 
MOUSE_LEAVE = "", 
MODAL_SIZE = "", 
POST_URL = "", 
SIGNUP_HEADER = "",
HEADER_IMAGE = "",
IMG_DESCRIPTION = "",
SIGNUP_TEXT = "",
INPUT_PLACEHOLDER = "",
SUBMIT_BUTTON = "",
SUCCESS_MESSAGE = "",
ERROR_MESSAGE = "",
OPTIN = "",
COOKIE_NAME = "",
CONTENTLANGUAGE = ""; 
</script>

<script src="../../../../js/popover/angular-modal-service.min.js"></script>
<script src="../../../../js/angular-ismobile.min.js"></script>
<script src="../../../../js/popover/popover.min.js"></script>


<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax//MathJax.js"></script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax//config/TeX-AMS-MML_HTMLorMML.js"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    for(var all in MathJax.Hub.getAllJax()) {
        all.SourceElement().parentNode.className += ' has-jax';

    }
});
</script>






  </body>
</html>

